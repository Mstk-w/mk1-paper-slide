---
description: ユーザーの修正指示に基づくスライド修正ワークフロー
---

# スライド修正ワークフロー (Workflow: Slide Modification)

一度生成したスライドに対して、ユーザーから修正指示があった場合の対応手順です。

1. **修正指示の分類**
    ユーザーからのコメントを分析し、以下のどちら（あるいは両方）に該当するか判断する。
    - **タイプA: コンテンツ修正**（文章、データ、論理の修正）
    - **タイプB: デザイン・レイアウト修正**（色、フォント、配置、枠線の太さ等の修正）

2. **修正対応プロセス**

    ### タイプA: コンテンツ修正の場合
    1.  **JSON修正**: 前回の生成に使用した JSON データを読み込み、ユーザーの指示に従ってテキスト部分（ox1_background 等）を書き換える。
    2.  **確認**: 修正後の内容（特に文字数が増えて枠に収まるか等）を推測確認する。
    3.  **再生成**: 修正した JSON を用いて再度 generate_slide.py を実行する。

    ### タイプB: デザイン・レイアウト修正の場合
    1.  **コード修正**: generate_slide.py 内の定数（MARGIN_CM 等）や描画関数（create_textbox 等）を編集する。
    2.  **ルール確認**: 修正内容が .agent/rules/01_slide_design_guidelines.md（公務員デザイン基準）に違反していないか確認する。（例: 派手すぎる色の指定などがあれば、穏便に指摘・調整案を出す）
    3.  **再生成**: コード変更を保存し、前回と同じ JSON データを用いて再実行する。

3. **反映確認**
    - 再生成されたファイルを開き（またはツールによる確認）、指示内容が反映されているか確認する。
    - ユーザーに「修正版を作成しました」と報告する。
